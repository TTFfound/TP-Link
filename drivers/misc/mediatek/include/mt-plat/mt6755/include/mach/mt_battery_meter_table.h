/*
 * Copyright (C) 2015 MediaTek Inc.
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 2 as
 * published by the Free Software Foundation.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU General Public License for more details.
 */

#ifndef _CUST_BATTERY_METER_TABLE_H
#define _CUST_BATTERY_METER_TABLE_H


/* ============================================================
// define
// ============================================================*/
#define BAT_NTC_10 1
#define BAT_NTC_47 0

#if (BAT_NTC_10 == 1)
#if defined(CONFIG_MTK_PMIC_CHIP_MT6353)
	#define RBAT_PULL_UP_R             16900
#else
	#define RBAT_PULL_UP_R             24000
#endif
#endif

#if (BAT_NTC_47 == 1)
#define RBAT_PULL_UP_R             61900
#endif

#define RBAT_PULL_UP_VOLT          1800



/* ============================================================
// ENUM
// ============================================================*/

/* ============================================================
// structure
// ============================================================*/

/* ============================================================
// typedef
// ============================================================*/
typedef struct _BATTERY_PROFILE_STRUCT {
	signed int percentage;
	signed int voltage;
	} BATTERY_PROFILE_STRUCT, *BATTERY_PROFILE_STRUCT_P;

typedef struct _R_PROFILE_STRUCT {
	signed int resistance; /* Ohm*/
	signed int voltage;
} R_PROFILE_STRUCT, *R_PROFILE_STRUCT_P;

typedef enum {
	T1_0C,
	T2_25C,
	T3_50C
} PROFILE_TEMPERATURE;

/* ============================================================
// External Variables
// ============================================================*/

/* ============================================================
// External function
// ============================================================*/

/* ============================================================
// <DOD, Battery_Voltage> Table
// ============================================================*/
#if (BAT_NTC_10 == 1)
BATT_TEMPERATURE Batt_Temperature_Table[] = {
	{-20, 68237},
	{-15, 53650},
	{-10, 42506},
	{ -5, 33892},
	{  0, 27219},
	{  5, 22021},
	{ 10, 17926},
	{ 15, 14674},
	{ 20, 12081},
	{ 25, 10000},
	{ 30, 8315},
	{ 35, 6948},
	{ 40, 5834},
	{ 45, 4917},
	{ 50, 4161},
	{ 55, 3535},
	{ 60, 3014}
};
#endif

#if (BAT_NTC_47 == 1)
BATT_TEMPERATURE Batt_Temperature_Table[] = {
	{-20, 483954},
	{-15, 360850},
	{-10, 271697},
	{ -5, 206463},
	{  0, 158214},
	{  5, 122259},
	{ 10, 95227},
	{ 15, 74730},
	{ 20, 59065},
	{ 25, 47000},
	{ 30, 37643},
	{ 35, 30334},
	{ 40, 24591},
	{ 45, 20048},
	{ 50, 16433},
	{ 55, 13539},
	{ 60, 11210}
};
#endif

/* [zhangdong start] Modify zcv table */
/* T0 -10C */
BATTERY_PROFILE_STRUCT battery_profile_t0[] =
{
	{0,4387},
	{5,4329},
	{9,4285},
	{16,4249},
	{22,4218},
	{25,4191},
	{31,4167},
	{38,4145},
	{44,4125},
	{47,4109},
	{53,4090},
	{60,4066},
	{62,4041},
	{69,4018},
	{75,4000},
	{78,3985},
	{85,3973},
	{91,3961},
	{96,3948},
	{100,3934},
	{107,3922},
	{113,3909},
	{116,3897},
	{122,3885},
	{129,3874},
	{131,3863},
	{138,3853},
	{144,3844},
	{147,3836},
	{153,3830},
	{160,3829},
	{165,3828},
	{169,3826},
	{176,3824},
	{182,3814},
	{185,3807},
	{191,3801},
	{198,3797},
	{200,3794},
	{207,3791},
	{213,3788},
	{216,3784},
	{222,3781},
	{229,3777},
	{235,3773},
	{238,3769},
	{244,3764},
	{251,3758},
	{255,3752},
	{260,3745},
	{267,3738},
	{269,3730},
	{276,3722},
	{282,3713},
	{289,3706},
	{291,3697},
	{298,3688},
	{304,3675},
	{307,3651},
	{313,3604},
	{313,3604},
	{313,3604}
};

/* T1 0C */
BATTERY_PROFILE_STRUCT battery_profile_t1[] =
{
	{0,4388},
	{3,4349},
	{7,4316},
	{10,4287},
	{15,4261},
	{17,4237},
	{20,4215},
	{23,4195},
	{27,4174},
	{32,4156},
	{33,4137},
	{37,4120},
	{42,4104},
	{43,4090},
	{48,4074},
	{52,4053},
	{53,4030},
	{58,4010},
	{62,3993},
	{65,3980},
	{68,3967},
	{70,3953},
	{75,3939},
	{78,3924},
	{82,3910},
	{85,3896},
	{90,3882},
	{92,3870},
	{95,3859},
	{100,3849},
	{102,3839},
	{107,3831},
	{108,3823},
	{112,3816},
	{117,3809},
	{118,3804},
	{123,3800},
	{127,3797},
	{128,3794},
	{133,3791},
	{137,3789},
	{140,3786},
	{143,3783},
	{145,3781},
	{150,3777},
	{153,3773},
	{157,3769},
	{160,3763},
	{165,3757},
	{167,3751},
	{170,3743},
	{175,3734},
	{177,3725},
	{182,3714},
	{185,3703},
	{187,3696},
	{192,3690},
	{193,3684},
	{198,3672},
	{202,3635},
	{203,3554},
	{208,3402}
};

/* T2 25C*/
BATTERY_PROFILE_STRUCT battery_profile_t2[] =
{
	{0,4373},
	{2,4343},
	{3,4320},
	{5,4298},
	{7,4277},
	{8,4258},
	{11,4238},
	{13,4219},
	{14,4200},
	{16,4182},
	{18,4163},
	{19,4145},
	{21,4127},
	{23,4110},
	{24,4092},
	{26,4076},
	{28,4060},
	{29,4044},
	{32,4027},
	{34,4009},
	{35,3994},
	{37,3981},
	{39,3968},
	{40,3956},
	{42,3941},
	{44,3926},
	{45,3908},
	{47,3891},
	{49,3875},
	{51,3861},
	{53,3851},
	{55,3841},
	{56,3832},
	{58,3824},
	{60,3817},
	{61,3810},
	{63,3804},
	{65,3798},
	{66,3792},
	{68,3788},
	{71,3783},
	{72,3779},
	{74,3774},
	{75,3770},
	{77,3766},
	{79,3761},
	{80,3755},
	{82,3748},
	{84,3742},
	{85,3736},
	{87,3729},
	{89,3718},
	{91,3708},
	{93,3697},
	{95,3685},
	{96,3681},
	{98,3678},
	{100,3671},
	{101,3643},
	{103,3561},
	{105,3421},
	{105,3421}
};

/* T3 50C*/
BATTERY_PROFILE_STRUCT battery_profile_t3[] =
{
	{0,4362},
	{2,4339},
	{3,4319},
	{5,4299},
	{7,4280},
	{8,4261},
	{10,4241},
	{12,4223},
	{13,4204},
	{15,4185},
	{16,4167},
	{18,4149},
	{20,4131},
	{21,4113},
	{23,4096},
	{25,4079},
	{26,4063},
	{28,4047},
	{30,4031},
	{31,4016},
	{33,4001},
	{35,3987},
	{36,3974},
	{38,3960},
	{39,3947},
	{41,3932},
	{43,3916},
	{44,3897},
	{46,3880},
	{48,3866},
	{49,3854},
	{52,3845},
	{54,3836},
	{55,3827},
	{57,3820},
	{59,3813},
	{60,3806},
	{62,3800},
	{64,3794},
	{65,3788},
	{67,3783},
	{68,3779},
	{70,3774},
	{72,3768},
	{73,3759},
	{75,3748},
	{77,3739},
	{78,3732},
	{80,3725},
	{82,3719},
	{83,3713},
	{85,3705},
	{87,3695},
	{88,3686},
	{90,3674},
	{91,3668},
	{93,3666},
	{95,3664},
	{96,3656},
	{98,3611},
	{100,3522},
	{101,3369}
};

/* battery profile for actual temperature. The size should be the same as T1, T2 and T3*/
BATTERY_PROFILE_STRUCT battery_profile_temperature[] = {
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0}
};

/* ============================================================
 * <Rbat, Battery_Voltage> Table
 ============================================================*/
/* T0 -10C*/
R_PROFILE_STRUCT r_profile_t0[] = {
	{2087, 4387},
	{2087, 4329},
	{1976, 4285},
	{1889, 4249},
	{1816, 4218},
	{1758, 4191},
	{1704, 4167},
	{1656, 4145},
	{1613, 4125},
	{1582, 4109},
	{1553, 4090},
	{1522, 4066},
	{1486, 4041},
	{1459, 4018},
	{1438, 4000},
	{1423, 3985},
	{1412, 3973},
	{1402, 3961},
	{1390, 3948},
	{1377, 3934},
	{1369, 3922},
	{1361, 3909},
	{1356, 3897},
	{1349, 3885},
	{1345, 3874},
	{1339, 3863},
	{1337, 3853},
	{1336, 3844},
	{1334, 3836},
	{1341, 3830},
	{1358, 3829},
	{1372, 3828},
	{1430, 3826},
	{1500, 3824},
	{1512, 3814},
	{1533, 3807},
	{1553, 3801},
	{1574, 3797},
	{1596, 3794},
	{1621, 3791},
	{1657, 3788},
	{1692, 3784},
	{1725, 3781},
	{1754, 3777},
	{1784, 3773},
	{1813, 3769},
	{1839, 3764},
	{1873, 3758},
	{1903, 3752},
	{1929, 3745},
	{1955, 3738},
	{1978, 3730},
	{2003, 3722},
	{2033, 3713},
	{2076, 3706},
	{2127, 3697},
	{2192, 3688},
	{2274, 3675},
	{2378, 3651},
	{2512, 3604},
	{2512, 3604},
	{2512, 3604}
};

/* T1 0C*/
R_PROFILE_STRUCT r_profile_t1[] = {
	{1198, 4388},
	{1198, 4349},
	{1180, 4316},
	{1157, 4287},
	{1132, 4261},
	{1106, 4237},
	{1084, 4215},
	{1066, 4195},
	{1045, 4174},
	{1027, 4156},
	{1010, 4137},
	{991, 4120},
	{982, 4104},
	{979, 4090},
	{969, 4074},
	{953, 4053},
	{932, 4030},
	{914, 4010},
	{901, 3993},
	{898, 3980},
	{894, 3967},
	{888, 3953},
	{882, 3939},
	{874, 3924},
	{867, 3910},
	{861, 3896},
	{856, 3882},
	{852, 3870},
	{850, 3859},
	{849, 3849},
	{849, 3839},
	{850, 3831},
	{853, 3823},
	{857, 3816},
	{860, 3809},
	{867, 3804},
	{875, 3800},
	{887, 3797},
	{901, 3794},
	{919, 3791},
	{942, 3789},
	{966, 3786},
	{995, 3783},
	{1028, 3781},
	{1061, 3777},
	{1100, 3773},
	{1140, 3769},
	{1178, 3763},
	{1219, 3757},
	{1258, 3751},
	{1294, 3743},
	{1328, 3734},
	{1360, 3725},
	{1387, 3714},
	{1414, 3703},
	{1444, 3696},
	{1481, 3690},
	{1530, 3684},
	{1593, 3672},
	{1662, 3635},
	{1753, 3554},
	{1942, 3402}
};

/* T2 25C*/
R_PROFILE_STRUCT r_profile_t2[] = {
	{272, 4373},
	{272, 4343},
	{274, 4320},
	{271, 4298},
	{268, 4277},
	{265, 4258},
	{260, 4238},
	{260, 4219},
	{257, 4200},
	{254, 4182},
	{253, 4163},
	{253, 4145},
	{253, 4127},
	{254, 4110},
	{254, 4092},
	{255, 4076},
	{260, 4060},
	{262, 4044},
	{260, 4027},
	{255, 4009},
	{256, 3994},
	{261, 3981},
	{263, 3968},
	{266, 3956},
	{265, 3941},
	{261, 3926},
	{251, 3908},
	{238, 3891},
	{227, 3875},
	{222, 3861},
	{220, 3851},
	{219, 3841},
	{219, 3832},
	{218, 3824},
	{220, 3817},
	{224, 3810},
	{225, 3804},
	{227, 3798},
	{229, 3792},
	{230, 3788},
	{232, 3783},
	{233, 3779},
	{233, 3774},
	{235, 3770},
	{237, 3766},
	{237, 3761},
	{239, 3755},
	{244, 3748},
	{251, 3742},
	{264, 3736},
	{278, 3729},
	{291, 3718},
	{308, 3708},
	{329, 3697},
	{352, 3685},
	{382, 3681},
	{421, 3678},
	{465, 3671},
	{502, 3643},
	{554, 3561},
	{652, 3421},
	{652, 3421}
};

/* T3 50C*/
R_PROFILE_STRUCT r_profile_t3[] = {
	{125, 4362},
	{125, 4339},
	{123, 4319},
	{122, 4299},
	{122, 4280},
	{121, 4261},
	{119, 4241},
	{120, 4223},
	{120, 4204},
	{119, 4185},
	{120, 4167},
	{120, 4149},
	{120, 4131},
	{120, 4113},
	{122, 4096},
	{122, 4079},
	{123, 4063},
	{124, 4047},
	{126, 4031},
	{126, 4016},
	{129, 4001},
	{131, 3987},
	{134, 3974},
	{138, 3960},
	{141, 3947},
	{143, 3932},
	{141, 3916},
	{133, 3897},
	{122, 3880},
	{120, 3866},
	{117, 3854},
	{118, 3845},
	{118, 3836},
	{117, 3827},
	{119, 3820},
	{120, 3813},
	{122, 3806},
	{122, 3800},
	{125, 3794},
	{126, 3788},
	{128, 3783},
	{130, 3779},
	{131, 3774},
	{133, 3768},
	{127, 3759},
	{121, 3748},
	{120, 3739},
	{122, 3732},
	{121, 3725},
	{121, 3719},
	{122, 3713},
	{123, 3705},
	{122, 3695},
	{123, 3686},
	{123, 3674},
	{123, 3668},
	{126, 3666},
	{134, 3664},
	{142, 3656},
	{141, 3611},
	{153, 3522},
	{189, 3369}
};

/* r-table profile for actual temperature. The size should be the same as T1, T2 and T3*/
R_PROFILE_STRUCT r_profile_temperature[] = {
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0}
};
/* [zhangdong end] */

/* ============================================================
// function prototype
// ============================================================*/
int fgauge_get_saddles(void);
BATTERY_PROFILE_STRUCT_P fgauge_get_profile(unsigned int temperature);

int fgauge_get_saddles_r_table(void);
R_PROFILE_STRUCT_P fgauge_get_profile_r_table(unsigned int temperature);

#endif

